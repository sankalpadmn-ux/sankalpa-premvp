<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>Sankalpa â€“ Base Pre-MVP v2</title>
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <link rel="stylesheet" href="styles.css" />
</head>
<body class="bg">
  <header class="header">
    <div class="logo2">S A N K A L P A</div>
    <a class="contact-link" href="contact.html">Contact Us</a>
  </header>

  <main class="landing">
    <section class="purpose">
      <h1>Purpose &amp; Mission of Sankalpa</h1>
      <p>
        Sankalpa is born from a simple, sacred intention â€“ to honour the bond between devotee,
        priest, and the divine, and to make that connection gentle, dignified, and effortless
        in todayâ€™s world.
      </p>
      <p>
        Many families long to perform their rituals in the right way, at the right time,
        with the right guidance â€“ yet struggle to know whom to call, where to search,
        or how to find a priest aligned with their tradition, language, and values.
        Sankalpa exists to hold their hand in that moment.
      </p>
      <p>
        Our mission is to offer a calm, trustworthy space where devotees can discover authentic
        Hindu priests based on locality, language, experience, and ritual needs â€“ without noise,
        pressure, or confusion. Every search is treated with respect; every detail is handled
        with care.
      </p>
      <p>
        As this platform grows, Sankalpa aspires to become a quiet companion for every household â€“
        a place where the practical and the sacred meet, where technology steps back and allows
        tradition, devotion, and blessings to come forward.
      </p>
    </section>

    <section class="authbox">
      <h2>Welcome to Sankalpa</h2>
      <p class="sub">
        Begin by sharing your mobile number. If you have connected with us before, choose
        <strong>Existing User</strong>. If you are here for the first time, choose
        <strong>New User</strong> and share a few basic details so that we may serve you better.
      </p>

      <label class="field-label">Mobile Number</label>
      <div class="phone-row">
        <select class="country-code" id="countryCode">
          <option value="+91" selected>ðŸ‡®ðŸ‡³ India (+91)</option>
          <option value="+1">ðŸ‡ºðŸ‡¸ United States (+1)</option>
          <option value="+44">ðŸ‡¬ðŸ‡§ United Kingdom (+44)</option>
          <option value="+61">ðŸ‡¦ðŸ‡º Australia (+61)</option>
          <option value="+65">ðŸ‡¸ðŸ‡¬ Singapore (+65)</option>
          <option value="+971">ðŸ‡¦ðŸ‡ª United Arab Emirates (+971)</option>
        </select>
        <input id="mobile" maxlength="10" placeholder="10-digit number" />
      </div>
      <p id="phoneError" class="error" style="display:none;">
        Please enter a valid 10-digit mobile number.
      </p>

      <div class="btnrow">
        <button type="button" onclick="setMode('exist')">Existing User</button>
        <button type="button" onclick="setMode('new')">New User</button>
      </div>

      <div id="newFields" class="extra" style="display:none;">
        <input id="name" placeholder="Full Name" />
        <input id="email" placeholder="Email Address" />

        <div class="row-two">
          <div class="col">
            <label class="field-label small-label">City</label>
            <input id="city" value="Coimbatore" readonly />
          </div>
          <div class="col">
            <label class="field-label small-label">Locality</label>
            <select id="localityDropdown" onchange="handleOtherLocality(this.value)">
              <option value="">Select Locality</option>
              <option>R.S. Puram</option>
              <option>Saibaba Colony</option>
              <option>Gandhipuram</option>
              <option>Tatabad</option>
              <option>Town Hall</option>
              <option>Ukkadam</option>
              <option>Ramanathapuram</option>
              <option>Peelamedu</option>
              <option>Singanallur</option>
              <option>Race Course</option>
              <option>Puliakulam</option>
              <option>Saravanampatti</option>
              <option>Thudiyalur</option>
              <option>Vadavalli</option>
              <option>Perur</option>
              <option>Kuniamuthur</option>
              <option>Podanur</option>
              <option>Eachanari</option>
              <option>Kalapatti</option>
              <option>Neelambur</option>
              <option>Selvapuram</option>
              <option>Koundampalayam</option>
              <option>Goundampalayam</option>
              <option>Veerakeralam</option>
              <option>Vilankurichi</option>
              <option>Chinnavedampatti</option>
              <option>Kovilpalayam</option>
              <option>Vellalore</option>
              <option>Chettipalayam</option>
              <option value="other">Other</option>
            </select>
          </div>
        </div>

        <div id="otherLocalityField" class="other-field" style="display:none;">
          <input id="otherLocalityInput" placeholder="Enter Your Locality" />
        </div>

        <p id="emailError" class="error" style="display:none;">
          Please enter a valid email address.
        </p>

        <button type="button" class="primary-btn" onclick="submitNewUser()">Submit</button>
      </div>

      <div id="existSubmit" class="extra" style="display:none;">
        <button type="button" class="primary-btn" onclick="submitExisting()">Submit</button>
      </div>

      <p id="infoMessage" class="info" style="display:none;"></p>
    </section>
  </main>

  <script>
    const mobileInput = document.getElementById("mobile");
    const phoneError = document.getElementById("phoneError");
    const emailInput = document.getElementById("email");
    const emailError = document.getElementById("emailError");
    const newFields = document.getElementById("newFields");
    const existSubmit = document.getElementById("existSubmit");
    const infoMessage = document.getElementById("infoMessage");
    const otherLocalityField = document.getElementById("otherLocalityField");
    const otherLocalityInput = document.getElementById("otherLocalityInput");

    mobileInput.addEventListener("input", function() {
      this.value = this.value.replace(/[^0-9]/g, "");
    });

    function setMode(mode) {
      infoMessage.style.display = "none";
      if (mode === "new") {
        newFields.style.display = "block";
        existSubmit.style.display = "none";
      } else if (mode === "exist") {
        newFields.style.display = "none";
        existSubmit.style.display = "block";
      }
    }

    function validatePhone() {
      const num = mobileInput.value.trim();
      if (num.length !== 10) {
        phoneError.style.display = "block";
        mobileInput.classList.add("invalid");
        return false;
      }
      phoneError.style.display = "none";
      mobileInput.classList.remove("invalid");
      return true;
    }

    function validateEmail() {
      if (!emailInput) return true;
      const email = emailInput.value.trim();
      const regex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
      if (!regex.test(email)) {
        emailError.style.display = "block";
        emailInput.classList.add("invalid");
        return false;
      }
      emailError.style.display = "none";
      emailInput.classList.remove("invalid");
      return true;
    }

    function handleOtherLocality(value) {
      if (value === "other") {
        otherLocalityField.style.display = "block";
      } else {
        otherLocalityField.style.display = "none";
        otherLocalityInput.value = "";
      }
    }

    function submitExisting() {
      if (!validatePhone()) return;
      infoMessage.innerText = "Welcome back to Sankalpa. (Existing user flow will evolve in future phases.)";
      infoMessage.style.display = "block";
    }

    function submitNewUser() {
      const phoneOk = validatePhone();
      const emailOk = validateEmail();
      if (!phoneOk || !emailOk) return;

      const name = document.getElementById("name").value.trim();
      const localityDropdown = document.getElementById("localityDropdown");
      const localityValue = localityDropdown.value;
      const city = document.getElementById("city").value.trim();
      let finalLocality = localityValue;
      if (localityValue === "other") {
        finalLocality = otherLocalityInput.value.trim();
      }

      if (!name || !finalLocality || !city) {
        infoMessage.innerText = "Please fill in all details for New User registration.";
        infoMessage.style.display = "block";
        return;
      }

      infoMessage.innerText = "Thank you, " + name + ". Your details have been recorded for Sankalpa.";
      infoMessage.style.display = "block";

      setTimeout(function() {
        // Simple reset back to base state
        document.getElementById("name").value = "";
        emailInput.value = "";
        localityDropdown.value = "";
        otherLocalityField.style.display = "none";
        otherLocalityInput.value = "";
        mobileInput.value = "";
        newFields.style.display = "none";
        existSubmit.style.display = "none";
      }, 1800);
    }
  </script>
</body>
</html>
